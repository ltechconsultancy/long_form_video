{% extends "base.html" %}

{% block title %}Projects - Long Form Video{% endblock %}

{% block content %}
<div x-data="{ showNewProject: false }">
    <h1>Your Projects</h1>

    <button class="btn-primary" @click="showNewProject = true">New Project</button>

    <div class="modal" x-show="showNewProject" x-cloak>
        <div class="modal-content">
            <h2>Create New Project</h2>
            <form
                hx-post="/api/projects"
                hx-target="#projects-list"
                hx-swap="afterbegin"
                @htmx:after-request="showNewProject = false"
            >
                <div class="form-group">
                    <label for="name">Project name</label>
                    <input type="text" id="name" name="name" placeholder="My Video Project" required>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary">Create</button>
                    <button type="button" class="btn-secondary" @click="showNewProject = false">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <div id="projects-list" class="projects-grid">
        {% for project in projects %}
        {% include "partials/project_card.html" %}
        {% else %}
        <p class="empty-state">No projects yet. Create one to get started!</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
